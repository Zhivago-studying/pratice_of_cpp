# ç±»ä¸å¯¹è±¡

## ç¬¬ä¸€é¢˜

```c++
#include <iostream>
#include <string>
using namespace std;
//å®šä¹‰ä¸€ä¸ª Vector2D ç±»ï¼ŒåŒ…å«ï¼š
//
//æˆå‘˜å˜é‡ï¼šx, yï¼ˆdoubleï¼‰
//
//è¦æ±‚ï¼š
//
//é‡è½½ + è¿ç®—ç¬¦ï¼Œå®ç°ä¸¤ä¸ªå‘é‡ç›¸åŠ 
//
//é‡è½½ = è¿ç®—ç¬¦ï¼Œå®ç°å‘é‡èµ‹å€¼
//
//å†™ main æµ‹è¯•ï¼š
//Vector2D a(1, 2), b(3, 4);
//Vector2D c = a + b;
class Vector2D {
public:
	//æˆå‘˜å‡½æ•°é‡è½½+è¿ç®—ç¬¦
	Vector2D& operator+(Vector2D& v) {
		this->x += v.x;
		this->y += v.y;
		return *this;
	}
	//æˆå‘˜å‡½æ•°é‡è½½=è¿ç®—ç¬¦
	Vector2D& operator=(Vector2D& v) {
		x = v.x;
		y = v.y;
		return *this;
	}
	double x;
	double y;
};
int main() {
	Vector2D a(1, 2), b(3, 4);
	Vector2D c = a + b;
	cout << "c.x = " << c.x << endl;
	cout << "c.y = " << c.y << endl;
	system("pause");
	return 0;
}
```

**é—®é¢˜1ï¼š+ è¿ç®—ç¬¦ ä¸åº”è¯¥ä¿®æ”¹å‚ä¸è¿ç®—çš„å¯¹è±¡**

```c++
//åŸä»£ç 
Vector2D& operator+(Vector2D& v) {
    this->x += v.x;
    this->y += v.y;
    return *this;
}
//Vector2D c = a + b;  
// å®é™…æ•ˆæœï¼ša è¢«æ”¹äº†ï¼Œéœ€è¦çš„æ•ˆæœæ˜¯aä¸èƒ½è¢«ä¿®æ”¹

//ä¿®æ”¹ä»£ç 
Vector2D operator+(const Vector2D& v) const {
    Vector2D tmp;		//åˆ›å»ºä¸€ä¸ªæ–°çš„å¯¹è±¡ï¼Œå°†thisæŒ‡å‘çš„å½“å‰å¯¹è±¡å’Œä¼ å…¥çš„æ–°å¯¹è±¡ç›¸åŠ èµ‹ç»™æ–°çš„å¯¹è±¡
    tmp.x = x + v.x;
    tmp.y = y + v.y;
    return tmp;
}
//è¡¥å……çŸ¥è¯†ç‚¹ï¼š
//(const Vector2D& v) constç¬¬ä¸€ä¸ªconstä¿è¯ä¸ä¿®æ”¹ä¼ å…¥çš„Vector2D vï¼Œç¬¬äºŒä¸ªconstä¿è¯ä¸ä¿®æ”¹*this;
```


## ç¬¬äºŒé¢˜

```c++
#include <iostream>
#include <string>
using namespace std;
//é¢˜ç›® 2ï¼šå­¦ç”Ÿä¿¡æ¯è¾“å‡º
//
//å®šä¹‰ä¸€ä¸ª Student ç±»ï¼ŒåŒ…å«ï¼š
//
//string name
//
//int age
//
//double score
//
//è¦æ±‚ï¼š
//
//é‡è½½ << ï¼Œä½¿ä¸‹é¢ä»£ç å¯ä»¥ç›´æ¥è¾“å‡ºï¼š
//
//Student s("Tom", 20, 88.5);
//cout << s << endl;
//
//
//è¾“å‡ºæ ¼å¼å¦‚ä¸‹ï¼š
//
//name : Tom, age : 20, score : 88.5
class Student {
	//å‹å…ƒ
	friend ostream& operator<<(ostream& cout, Student& stu);
public:
	//æœ‰å‚æ„é€ å‡½æ•°
	Student(string name,int age,double score) {
		this->name = name;
		this->age = age;
		this->score = score;
	}
private:
	string name;
	int age;
	double score;
};
//å…¨å±€å‡½æ•°é‡è½½<<
ostream& operator<<(ostream& cout, Student& stu) {
	cout << "name : " << stu.name << "ï¼Œage : " << stu.age << "ï¼Œscore : " << stu.score;
	return cout;
}
int main() {
	Student s("Tom", 20, 88.5);
	cout << s << endl;
	system("pause");
	return 0;
}
```

**å°é—®é¢˜ï¼šé‡è½½<<çš„æ—¶å€™ä¼ å…¥å‚æ•°åŠ ä¸Šconst**

```c++
//åŸä»£ç 
ostream& operator<<(ostream& cout, Student& stu) 
//ä¿®æ”¹ä»£ç 
ostream& operator<<(ostream& cout, const Student& stu) 
```




## ç¬¬ä¸‰é¢˜

```c++
#include <iostream>
#include <string>
using namespace std;
//é¢˜ç›® 3ï¼šæ¯”è¾ƒåœ†çš„å¤§å°
//
//å®šä¹‰ä¸€ä¸ª Circle ç±»ï¼š
//
//æˆå‘˜å˜é‡ï¼šradius
//
//è¦æ±‚ï¼š
//
//é‡è½½ > å’Œ < ï¼Œæ¯”è¾ƒåœ†çš„é¢ç§¯å¤§å°
//
//	é‡è½½ == ï¼Œå½“åŠå¾„ç›¸ç­‰æ—¶è®¤ä¸ºä¸¤ä¸ªåœ†ç›¸ç­‰
//
//	åœ¨ main ä¸­æµ‹è¯•æ‰€æœ‰æ¯”è¾ƒ
class Circle {
	//å‹å…ƒ
	friend bool operator>(Circle& c1, Circle& c2);
	friend bool operator<(Circle& c1, Circle& c2);
	friend bool operator==(Circle& c1, Circle& c2);
public:
	//æ— å‚æ„é€ å‡½æ•°
	Circle() {
		radius = 0.0;
	}
	//æœ‰å‚æ„é€ å‡½æ•°
	Circle(double r) {
		radius = r;
	}
private:
	double radius;
};

//å…¨å±€å‡½æ•°é‡è½½>
bool operator>(Circle& c1,Circle& c2) {
	if (c1.radius > c2.radius) {
		return true;
	}
	else {
		return false;
	}
}

//å…¨å±€å‡½æ•°é‡è½½<
bool operator<(Circle& c1, Circle& c2) {
	if (c1.radius < c2.radius) {
		return true;
	}
	else {
		return false;
	}
}

//å…¨å±€å‡½æ•°é‡è½½==
bool operator==(Circle& c1, Circle& c2) {
	if (c1.radius == c2.radius) {
		return true;
	}
	else {
		return false;
	}
}

int main() {
	Circle c1(5), c2(5), c3(2), c4(6.5);
	//>æµ‹è¯•
	if (c1 == c2) {
		cout << "c1å’Œc2ç›¸ç­‰" << endl;
	}
	if (c1 > c3) {
		cout << "c1é¢ç§¯å¤§äºc3" << endl;
	}
	if (c3 < c4) {
		cout << "c3é¢ç§¯å°äºc4" << endl;
	}
	system("pause");
	return 0;
}
```

**è¿˜æ˜¯åŒæ ·çš„é—®é¢˜ï¼š<ã€>ã€==é‡è½½çš„æ—¶å€™åŠ ä¸Šconstï¼Œä¸å†èµ˜è¿°**



## ç¬¬å››é¢˜

```c++
#include <iostream>
#include <string>
using namespace std;
//é¢˜ç›® 4ï¼šè®¡æ•°å™¨ç±» Counter
//
//å®šä¹‰ä¸€ä¸ª Counter ç±»ï¼š
//
//ç§æœ‰æˆå‘˜ï¼šint cnt
//
//è¦æ±‚ï¼š
//
//é‡è½½()ï¼Œå®ç°ï¼š
//
//Counter c;
//c();     // cnt + 1
//c();     // cnt + 1
//
//
//æä¾›ä¸€ä¸ªå‡½æ•° get() è¿”å›å½“å‰è®¡æ•°å€¼
class Counter {
private:
	int cnt;
public:
	//æ— å‚æ„é€ å‡½æ•°
	Counter() {
		cnt = 0;
	}
	//æœ‰å‚æ„é€ å‡½æ•°
	Counter(int cnt) {
		this->cnt = cnt;
	}
	//æˆå‘˜å‡½æ•°é‡è½½()
	Counter& operator()() {
		this->cnt++;
		return *this;
	}
	int get() {
		return this->cnt;
	}
};
int main() {
	Counter c;
	c();
	c();
	cout << "å½“å‰è®¡æ•°å€¼ä¸ºï¼š" << c.get() << endl;
	system("pause");
	return 0;
}
```

## ç¬¬äº”é¢˜

```c++
#include <iostream>
#include <string>
using namespace std;
//é¢˜ç›® 5ï¼šæ•´æ•°åŒ…è£…ç±» IntWrapper
//
//å®šä¹‰ä¸€ä¸ª IntWrapper ç±»ï¼ŒåŒ…å«ï¼š
//
//æˆå‘˜å˜é‡ï¼šint value
//
//è¦æ±‚ï¼š
//
//é‡è½½ï¼š
//
//å‰ç½® ++i
//
//åç½® i++
//
//ä¿è¯ä»¥ä¸‹ä»£ç è¾“å‡ºæ­£ç¡®ï¼š
//
//IntWrapper a(5);
//cout << ++a << endl; // 6
//cout << a++ << endl; // 6
//cout << a << endl;   // 7
class IntWrapper {
public:
	//æœ‰å‚æ„é€ å‡½æ•°
	IntWrapper(int value) {
		this->value = value;
	}
	//æˆå‘˜å‡½æ•°é‡è½½å‰ç½®++
	IntWrapper& operator++() {
		//å…ˆé€’å¢
		this->value++;
		//è¿”å›é€’å¢ä¹‹åçš„ç»“æœ
		return *this;
	}
	//æˆå‘˜å‡½æ•°é‡è½½åç½®++
	IntWrapper operator++(int) {
		//å…ˆæ‹·è´å½“å‰ç»“æœ
		IntWrapper tmp = *this;
		//é€’å¢
		value++;
		//è¿”å›ä¹‹å‰çš„ç»“æœ
		return tmp;
	}
	int value;

};
//å…¨å±€å‡½æ•°é‡è½½<<
ostream& operator<<(ostream& cout,const IntWrapper& intwrapper) {
	cout << intwrapper.value;
	return cout;
}

int main() {
	IntWrapper a(5);
	cout << ++a << endl; // 6
	cout << a++ << endl; // 6
	cout << a << endl;   // 7	
	system("pause");
	return 0;
}
```

## ç¬¬å…­é¢˜

```c++
#include <iostream>
#include <string>
using namespace std;
//é¢˜ç›® 6ï¼šæ—¥æœŸç±» Dateï¼ˆç»¼åˆé¢˜ï¼‰
//
//å®šä¹‰ä¸€ä¸ª Date ç±»ï¼š
//
//year, month, day
//
//è¦æ±‚ï¼š
//
//é‡è½½ << è¾“å‡ºæ—¥æœŸï¼š2026 - 02 - 07
//
//é‡è½½ == åˆ¤æ–­æ—¥æœŸæ˜¯å¦ç›¸åŒ
//
//é‡è½½å‰ç½® ++ï¼šæ—¥æœŸåŠ ä¸€å¤©ï¼ˆä¸è€ƒè™‘é—°å¹´ï¼‰
//
//é‡è½½ + intï¼šæ—¥æœŸåŠ  n å¤©
//
//é‡è½½ = è¿ç®—ç¬¦
//
//ğŸ“Œ æç¤ºï¼š
//
//æœˆä»½å¤©æ•°å¯ä»¥ç”¨æ•°ç»„
//
//operator+ ä¸è¦ä¿®æ”¹åŸå¯¹è±¡
class Date {
	//å‹å…ƒ
	friend ostream& operator<<(ostream& os, const Date& date);
	friend bool operator==(Date& date1, Date& date2);
private:
	int year;
	int month;
	int day;
public:
	//æˆå‘˜å‡½æ•°é‡è½½å‰ç½®++
	Date& operator++() {
		//é€’å¢
		day++;
		//åˆ¤æ–­æœˆä»½æ˜¯å¦éœ€è¦å¢åŠ 
		int total_days = total_days_of_month();
		if (day > total_days) {
			//å¦‚æœå½“å‰æœˆä»½æ˜¯12æœˆï¼Œåˆ™å¹´æ•°è¿˜éœ€è¦å¢åŠ 
			if (month == 12) {
				month = 1;
				year++;
			}
			else {
				//åªéœ€è¦æœˆä»½å¢åŠ 
				month++;
			}
			//å¤©æ•°å½’ä¸€
			day = 1;
		}
		return *this;
	}
	//æˆå‘˜å‡½æ•°é‡è½½+
	Date operator+(int n) {
		Date tmp = *this;
		while (n) {
			++tmp;
			n--;
		}
		return tmp;
	}
	Date(int year, int month, int day) {
		this->year = year;
		this->month = month;
		this->day = day;
	}
	//æˆå‘˜å‡½æ•°é‡è½½=
	Date& operator=(Date& date) {
		this->year = date.year;
		this->month = date.month;
		this->day = date.day; 
		return *this;
	}
	//åˆ¤æ–­è¯¥æ—¥æœŸæ‰€åœ¨æœˆä»½çš„å¤©æ•°
	int total_days_of_month() {
		if (this->month == 1 || this->month == 3 || this->month == 5 || this->month == 7 || this->month == 8 || this->month == 10 || this->month == 12) {
			return 31;
		}
		else if (this->month == 2) {
			return 28;
		}
		else {
			return 30;
		}
	}
};
//å…¨å±€å‡½æ•°é‡è½½<<
ostream& operator<<(ostream& os, const Date& date) {
	cout << date.year << " - ";
	if (date.month < 10) {
		cout << "0" << date.month;
	}
	else {
		cout << date.month;
	}
	cout << " - ";
	if (date.day < 10) {
		cout << "0" << date.day;
	}
	else {
		cout << date.day;
	}
	return os;
}
//å…¨å±€å‡½æ•°é‡è½½==ï¼Œåˆ¤æ–­æ—¥æœŸæ˜¯å¦ç›¸åŒ
bool operator==(Date& date1, Date& date2) {
	if (date1.year == date2.year && date1.month == date2.month && date1.day == date2.day) {
		return true;
	}
	else {
		return false;
	}
}

int main() {
	system("pause");
	return 0;
}
```

**é—®é¢˜1ï¼šoperator+ åº”è¯¥æ˜¯ const**

```c++
//åŸä»£ç 
Date operator+(int n) {
    Date tmp = *this;
    while (n) {
        ++tmp;
        n--;
    }
    return tmp;
}
//ä¿®æ”¹ä»£ç ,åŠ ä¸Šconstå¯ä»¥é˜²æ­¢ä¿®æ”¹*this
Date operator+(int n) const{
    Date tmp = *this;
    while (n) {
        ++tmp;
        n--;
    } 
    return tmp;
}
```

**ä¹‹åçš„é—®é¢˜éƒ½æ˜¯æ²¡æœ‰åŠ comstï¼Œä»¥å*ä¸€å®šæ³¨æ„è¿™ä¸ªä¹ æƒ¯ï¼ŒåŠ ä¸Šconst***

