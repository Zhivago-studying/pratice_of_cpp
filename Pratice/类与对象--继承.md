# 类与对象--继承

## 题目1：

```c++
#include <iostream>
#include <string>
using namespace std;
//题目 1：继承基本语法（必会）
//题目要求
//
//定义一个 Person 类，包含：
//
//成员变量：name（string）
//
//成员函数：showInfo()，输出姓名
//
//定义一个 Student 类 继承自 Person，增加：
//
//成员变量：id
//
//成员函数：showStudent()，输出姓名和学号
//
//要求
//
//在 main 中创建 Student 对象
//
//调用 父类和子类的成员函数
//
//考点
//
//继承基本语法
//
//子类访问父类成员
class Person {
public:
	Person(string name) {
		this->name = name;
	}
	void showInfo() {
		cout << "姓名: " << name << endl;
	}
protected:
	string name;

};
class Student :public Person {
public:
	Student(string name,int id):Person(name) {
		this->id = id;
	}
	void showStudent() {
		cout << "姓名: " << name << "\t学号: " << id << endl;
	}
protected:
	int id;
};
int main() {
	Person p("Scott");
	Student stu("Lewis",23);
	p.showInfo();
	stu.showStudent();
	system("pause");
	return 0;
}
```

> [!IMPORTANT]
>
> 1. 子类在构造函数时会先构造父类，再构造子类，顺序为：**父类构造函数-->子类构造函数-->子类析构函数-->父类析构函数**
>
> 2. 在子类构造函数中，必须先调用父类构造函数，并且只能在初始化列表中，如下：
>
>    ```c++
>    Student(string name,int id):Person(name) {
>    		this->id = id;
>    	}
>    ```

## 题目2

```c++
#include <iostream>
#include <string>
using namespace std;
//题目 2：三种继承方式（public / protected / private）
//题目要求
//
//定义基类 Base，包含：
//
//public 成员 a
//
//protected 成员 b
//
//private 成员 c
//
//定义三个子类：
//
//class Son1 : public Base {};
//class Son2 : protected Base {};
//class Son3 : private Base {};
//
//要求
//
//在每个子类中写成员函数，尝试访问 a / b / c
//
//在 main 中，尝试通过对象访问 a / b / c
//
//注释写明：哪些能访问，哪些不能
class Base {
public:
	int a;
protected:
	int b;
private:
	int c;
};
class Son1 :public Base {
public:
	//可以访问
	void visit_a() {
		cout << "a = " << a << endl;
	}
	//可以访问
	void visit_b() {
		cout << "b = " << b << endl;
	}
	//不可以访问
	//void visit_c() {
	//	cout << "c = " << c << endl;
	//}
};
class Son2 :protected Base {
	//可以访问
	void visit_a() {
		cout << "a = " << a << endl;
	}
	//可以访问
	void visit_b() {
		cout << "b = " << b << endl;
	}
	//不可以访问
	//void visit_c() {
	//	cout << "c = " << c << endl;
	//}	
};
class Son3 :private Base {
	//可以访问
	void visit_a() {
		cout << "a = " << a << endl;
	}
	//可以访问
	void visit_b() {
		cout << "b = " << b << endl;
	}
	//不可以访问
	//void visit_c() {
	//	cout << "c = " << c << endl;
	//}
};
int main() {
	//Son1
	cout << "Son1.a = " << Son1().a << endl;	//可以访问
	//cout << "Son1.b = " << Son1().b << endl;	不能访问
	//cout << "Son1.c = " << Son1().c << endl;	不能访问
	//Son2
	//cout << "Son2.a = " << Son2().a << endl;	不能访问
	//cout << "Son2.b = " << Son2().b << endl;	不能访问
	//cout << "Son2.c = " << Son2().c << endl;	不能访问
	//Son3
	//cout << "Son3.a = " << Son3().a << endl;	不能访问
	//cout << "Son3.b = " << Son3().b << endl;	不能访问
	//cout << "Son3.c = " << Son3().c << endl;	不能访问	
	system("pause");
	return 0;
}
```

## 题目3

```c++
#include <iostream>
#include <string>
using namespace std;
//题目 3：同名成员变量处理（作用域）
//题目要求
//
//定义：
//
//class Base {
//public:
//	int x = 10;
//};
//class Son : public Base {
//public:
//	int x = 20;
//};
//
//要求
//
//创建 Son 对象
//
//输出：
//
//子类的 x
//
//父类的 x
//
//用 两种方式访问父类的 x
class Base {
public:
	int x = 10;
};
class Son : public Base {
public:
	int x = 20;
};
int main() {
	Base base;
	Son son;
	cout << "Son.x = " << son.x << endl;
	cout << "Base.x = " << son.Base::x << endl;
	//两种方式访问父类的x
	cout << "Base.x = " << son.Base::x << endl;		//方式1：通过作用域访问
	cout << "Base.x = " << Son::Base::x << endl;	//方式2：通过类名访问
	system("pause");
	return 0;
}
```

## 题目4

```c++
#include <iostream>
#include <string>
using namespace std;
//题目 4：同名静态成员处理（高频考点）
//题目要求
//
//定义：
//
//class Base {
//public:
//	static int count;
//};
//class Son : public Base {
//public:
//	static int count;
//};
//
//要求
//
//初始化两个 count
//
//通过：
//
//对象
//
//类名
//访问 Base::count 和 Son::count
//
//输出示例（不限定具体数值）：
//Base::count = ?
//Son::count = ?
class Base {
public:
	static int count;
};
int Base::count = 0;
class Son : public Base {
public:
	static int count;
};
int Son::count = 0;
int main() {
	Base b;
	b.count = 10;
	Son s;
	s.count = 20;
	cout << "Base::count = " << Base::count << endl;
	cout << "Son::count = " << Son::count << endl;
	system("pause");
	return 0;
}
```

> [!IMPORTANT]
>
> 1. 类中的静态成员属性必须要在类外初始化！

## 题目5

```c++
#include <iostream>
#include <string>
using namespace std;
//虚继承
class Animal {
public:
	Animal() {
		m_Age = 0;
	}
	int m_Age;
};
class Sheep :virtual public Animal {
public:
	int m_B;
};
class Tuo :virtual public Animal {
public:
	int m_C;
};
class SheepTuo :public Sheep, public Tuo {
public:
	int m_D;
};
int main() {
	Animal anl;
	anl.m_Age = 10;
	Sheep s;
	s.m_B = 20;
	Tuo t;
	t.m_C = 30;
	SheepTuo st;
	st.m_D = 40;
	s.m_Age = 18;
	t.m_Age = 20;
	st.m_Age = 100;
	cout << st.m_Age << endl;
	system("pause");
	return 0;
}
```

